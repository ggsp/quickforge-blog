.unifiedSidebar {
  display: flex;
  flex-direction: column;
  height: 100%;
  min-height: 0; /* Important: allows flex children to shrink below content size */
  background: var(--ifm-background-color);
  border-radius: 8px;
  padding: 0;
  position: relative;
}

/* Fade-out effect at bottom of sidebar */
.unifiedSidebar::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 60px;
  background: linear-gradient(to bottom, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.1) 30%, var(--ifm-background-color) 100%);
  pointer-events: none;
  z-index: 2;
  border-radius: 0 0 8px 8px;
}

.tabButtons {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 0;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  padding-bottom: 0;
}

.tabButton {
  flex: 1;
  background: transparent;
  border: none;
  color: rgba(255, 255, 255, 0.6);
  font-family: var(--ifm-font-family-base);
  font-size: 1rem;
  font-weight: 600;
  padding: 0.75rem 0.5rem;
  cursor: pointer;
  transition: all 0.2s ease;
  position: relative;
  text-transform: none;
  letter-spacing: 0.01em;
  text-align: left;
}

.tabButton:hover:not(:disabled) {
  color: rgba(255, 255, 255, 0.9);
}

.tabButton:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.tabButton.active {
  color: rgba(255, 255, 255, 1);
}

.tocWrapper {
  flex: 1;
  overflow-y: auto;
  padding-top: 0.25rem;
  min-height: 0; /* Important: allows flex item to shrink */
  /* Hide scrollbars */
  scrollbar-width: none;
  /* Ensure independent scrolling */
  overscroll-behavior: contain;
  position: relative;
}

.tocWrapper::-webkit-scrollbar {
  display: none;
}


/* Force TOC to not have its own scrolling and auto-scroll behaviors */
.tocWrapper :global(.thin-scrollbar) {
  overflow: visible !important;
  max-height: none !important;
}

.tocWrapper :global(.tableOfContents_src-theme-TOC-styles-module) {
  overflow: visible !important;
  max-height: none !important;
  /* Disable any auto-scrolling behaviors */
  scroll-behavior: auto !important;
}

/* Disable TOC auto-scroll behaviors completely */
.tocWrapper :global([class*='tableOfContents']) {
  scroll-behavior: auto !important;
}

.tocWrapper :global(.table-of-contents) {
  scroll-behavior: auto !important;
}

.recentWrapper {
  flex: 1;
  overflow-y: auto;
  padding-top: 0.25rem;
  min-height: 0; /* Important: allows flex item to shrink */
  /* Hide scrollbars */
  scrollbar-width: none;
  position: relative;
}

.recentWrapper::-webkit-scrollbar {
  display: none;
}


.recentNav {
  /* Remove any default positioning/scrolling since we handle it at wrapper level */
  position: static;
  max-height: none;
  overflow: visible;
}

/* Blog sidebar item styles - match TOC styling */
.sidebarItemList {
  font-size: 1rem;
  padding-left: 0 !important;
}

.sidebarItem {
  margin-top: 0.4rem;
}

.sidebarItemLink {
  color: rgba(255, 255, 255, 0.6) !important; /* Match TOC non-active color */
  display: block;
  padding-left: 12px !important; /* Match TOC padding */
  padding-top: 0.15rem !important;
  padding-bottom: 0.15rem !important;
  transition: color 0.2s ease;
  position: relative !important;
}

.sidebarItemLink:hover {
  text-decoration: none;
  color: rgba(255, 255, 255, 0.8) !important;
}

/* Active recent post - purple dot + white text (not purple text) */
.sidebarItemLinkActive {
  color: rgba(255, 255, 255, 1) !important; /* White text, not purple */
}

.sidebarItemLinkActive::before {
  content: '•' !important;
  position: absolute !important;
  left: -2px !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
  color: var(--ifm-color-primary) !important; /* Purple dot */
  font-size: 12px !important;
  font-weight: bold !important;
}

.yearGroupHeading {
  margin-top: 1.6rem;
  margin-bottom: 0.4rem;
  font-size: 0.9rem;
}

/* Remove TOC left border and add consistent padding */
.tocWrapper :global(.table-of-contents) {
  border-left: none !important;
  padding-left: 0 !important;
}

/* TOC item base styling */
.tocWrapper :global(.table-of-contents__link) {
  color: rgba(255, 255, 255, 0.6) !important; /* All non-active sections */
  transition: color 0.2s ease;
  padding-left: 12px !important; /* Add consistent padding */
  padding-top: 0.15rem !important;
  padding-bottom: 0.15rem !important;
  font-size: 1rem !important; /* Match blog post size */
}

/* Current/active section - purple dot + white text */
.tocWrapper :global(a.table-of-contents__link--active) {
  position: relative !important;
  color: rgba(255, 255, 255, 1) !important; /* White text for current */
}

.tocWrapper :global(a.table-of-contents__link--active::before) {
  content: '•' !important;
  position: absolute !important;
  left: -2px !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
  color: var(--ifm-color-primary) !important; /* Purple dot */
  font-size: 12px !important;
  font-weight: bold !important;
}

/* Mobile responsiveness */
@media (max-width: 996px) {
  .unifiedSidebar {
    display: none;
  }
}
